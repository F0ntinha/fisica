<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>Simulação - Força Normal e Curvas F1</title>

<style>
body{
    font-family: Arial;
    background:#111;
    color:white;
    text-align:center;
}

.container{
    display:flex;
    justify-content:space-around;
    margin-top:20px;
}

.controls{
    width:300px;
    background:#222;
    padding:20px;
    border-radius:10px;
}

canvas{
    background:#333;
    border-radius:10px;
}

input{
    width:100%;
}

button{
    margin-top:10px;
    padding:10px;
    width:100%;
    background:red;
    color:white;
    border:none;
    cursor:pointer;
    border-radius:5px;
}

.result{
    margin-top:15px;
    background:#000;
    padding:10px;
    border-radius:5px;
}
</style>
</head>

<body>

<h1>Simulação: Força Normal em Curvas (F1)</h1>

<div class="container">

<div class="controls">

<h3>Parâmetros</h3>

<label>Massa do carro (kg)</label>
<input type="range" id="massa" min="1" max="5" step="0.1" value="1.5">

<label>Coeficiente de Atrito (μ)</label>
<input type="range" id="atrito" min="0.1" max="1.5" step="0.05" value="0.8">

<label>Raio da Curva (m)</label>
<input type="range" id="raio" min="2" max="10" step="0.5" value="5">

<label>Ângulo da pista (θ graus)</label>
<input type="range" id="angulo" min="0" max="45" step="1" value="0">

<label>Velocidade de Entrada (m/s)</label>
<input type="range" id="velocidade" min="0" max="25" step="0.5" value="10">

<button onclick="simular()">Testar Curva</button>

<div class="result" id="resultado"></div>

</div>

<canvas id="canvas" width="500" height="400"></canvas>

</div>

<script>
const g = 9.8;

function simular(){

let m = parseFloat(document.getElementById("massa").value);
let mu = parseFloat(document.getElementById("atrito").value);
let R = parseFloat(document.getElementById("raio").value);
let theta = parseFloat(document.getElementById("angulo").value) * Math.PI/180;
let v = parseFloat(document.getElementById("velocidade").value);

// Força normal com banking
let N = m * g * Math.cos(theta);

// Força centrípeta necessária
let Fc = (m * v * v) / R;

// Força máxima de atrito
let Fmax = mu * N;

// Velocidade máxima teórica
let vmax = Math.sqrt((mu * N * R) / m);

let resultado = document.getElementById("resultado");

if(Fc <= Fmax){
    resultado.innerHTML = `
    ✅ O carro NÃO derrapa! <br>
    Velocidade Máxima Teórica: ${vmax.toFixed(2)} m/s
    `;
    desenhar(true);
}else{
    resultado.innerHTML = `
    ❌ O carro DERRAPA! <br>
    Velocidade Máxima Teórica: ${vmax.toFixed(2)} m/s
    `;
    desenhar(false);
}
}

function desenhar(estavel){

let canvas = document.getElementById("canvas");
let ctx = canvas.getContext("2d");

ctx.clearRect(0,0,canvas.width,canvas.height);

// desenhar curva
ctx.beginPath();
ctx.arc(250,200,120,0,Math.PI*2);
ctx.strokeStyle="white";
ctx.stroke();

// carro
ctx.beginPath();
ctx.arc(370,200,10,0,Math.PI*2);
ctx.fillStyle = estavel ? "lime" : "red";
ctx.fill();
}

desenhar(true);

</script>

</body>
</html>
